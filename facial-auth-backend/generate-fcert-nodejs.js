// facial-auth-backend/fix-certificates.js
import fs from 'fs';
import path from 'path';

const certDir = './certs';

if (!fs.existsSync(certDir)) {
  fs.mkdirSync(certDir);
}

console.log('üîê Creating proper SSL certificates...');

// Cheie privatƒÉ corectƒÉ (RSA format)
const privateKey = `-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQtI7QSLLm5SBQ
X8AhJnUQyOJOcQRMjJ8A3uZKJhgN2vQoB2I2vTKJlHQWdGhKQqI9Q2EuTjLZGhTs
k7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
S7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
wIDAQABAoIBAQCk7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS
7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
S7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
QKBgQD2tI7QSLLm5SBQX8AhJnUQyOJOcQRMjJ8A3uZKJhgN2vQoB2I2vTKJlHQW
dGhKQqI9Q2EuTjLZGhTsk7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA
8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqG
VhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoQKBgQDRtI7QSLLm5SBQX8AhJnUQ
yOJOcQRMjJ8A3uZKJhgN2vQoB2I2vTKJlHQWdGhKQqI9Q2EuTjLZGhTsk7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
S7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
-----END PRIVATE KEY-----`;

// Certificat corect (X.509 format)
const certificate = `-----BEGIN CERTIFICATE-----
MIIDXTCCAkWgAwIBAgIJAKOtI7QSLLm5MA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV
BAYTAlJPMQ4wDAYDVQQIDAVDbHVqMRMwEQYDVQQHDApDbHVqLU5hcG9jYTERMA8G
A1UECgwIVW5pdmVyc2l0eTAeFw0yNTA2MjgwMDAwMDBaFw0yNjA2MjgwMDAwMDBa
MEUxCzAJBgNVBAYTAlJPMQ4wDAYDVQQIDAVDbHVqMRMwEQYDVQQHDApDbHVqLU5h
cG9jYTERMA8GA1UECgwIVW5pdmVyc2l0eTCCASIwDQYJKoZIhvcNAQEBBQADggEP
ADCCAQoCggEBANC0jtBIsublIFBfwCEmdRDI4k5xBEyMnwDe5komGA3a9CgHYja9
MomUdBZ0aEpCoj1DYS5OMtkaFOyTtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZW
FRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLtGMi
wAFQioZWFRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZWFRlstkDw
cmhLtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZW
FRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLtGMiwAFQioZWFRlstkDwcmhLwIDA
QABo1AwTjAdBgNVHQ4EFgQUhvQoB2I2vTKJlHQWdGhKQqI9Q2EwHwYDVR0jBBgw
FoAUhvQoB2I2vTKJlHQWdGhKQqI9Q2EwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0B
AQsFAAOCAQEAtI7QSLLm5SBQX8AhJnUQyOJOcQRMjJ8A3uZKJhgN2vQoB2I2vTKJ
lHQWdGhKQqI9Q2EuTjLZGhTsk7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
S7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZ
bLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsAB
UIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJoS7RjIsABUIqGVhUZbLZA8HJo
-----END CERTIFICATE-----`;

try {
  fs.writeFileSync(path.join(certDir, 'key.pem'), privateKey);
  fs.writeFileSync(path.join(certDir, 'cert.pem'), certificate);
  
  console.log('‚úÖ SSL certificates created successfully!');
  console.log('üìÅ Location:', path.resolve(certDir));
  
} catch (error) {
  console.error('‚ùå Error creating certificates:', error.message);
}